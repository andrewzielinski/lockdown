<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <link rel="stylesheet" href="stylesheets/screen.css" type="text/css" media="screen" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
      Lockdown
  </title>
  <script src="javascripts/rounded_corners_lite.inc.js" type="text/javascript"></script>
<style>

</style>
  <script type="text/javascript">
    window.onload = function() {
      settings = {
          tl: { radius: 10 },
          tr: { radius: 10 },
          bl: { radius: 10 },
          br: { radius: 10 },
          antiAlias: true,
          autoPad: true,
          validTags: ["div"]
      }
      var versionBox = new curvyCorners(settings, document.getElementById("version"));
      versionBox.applyCornersToAll();
    }
  </script>
</head>
<body>
<div id="main">

    <h1>Lockdown</h1>
    <div id="version" class="clickable" onclick='document.location = "http://rubyforge.org/projects/lockdown"; return false'>
      <p>Get Version</p>
      <a href="http://rubyforge.org/projects/lockdown" class="numbers">0.4.0</a>
    </div>
    <h2>What</h2>


	<p>This page will describe how to get started with a new application.  There is only one generator available right now: generator_all.  This will put everything in place and is useful when creating a new application.</p>


	<p>I intend on breaking this out into separate generators to make the inclusion of Lockdown to existing applications much easier.</p>


	<h2>Creating a new application</h2>


<pre>
$ rails demo_app
&lt;snip output&gt;
$ cd demo_app
$ lockdown .
------------------------------------------------------------
Installing Lockdown
      create  lib/lockdown
      create  lib/lockdown/session.rb
      create  lib/lockdown/init.rb
------------------------------------------------------------

------------------------------------------------------------
Modified config/environment.rb by adding:
    require "lockdown/init" 
------------------------------------------------------------

------------------------------------------------------------
You are now locked down.  To open up access to your application 
please modify lib/lockdown/init.rb.  This is where you'll 
add permissions and create user groups.

To modify the contents of your session and to add access 
methods, modify lib/lockdown/session.rb.

If you want to know more, please visit:

http://lockdown.rubyforge.org

If you have any suggestions, comments or issues 
please visit the Lockdown Google group:

http://groups.google.com/group/stonean_lockdown?hl=en
------------------------------------------------------------
</pre>

	<p>Now it&#8217;s time to get the template&#8230;</p>


<pre>
$ ./script/generate lockdown_all
      exists  app/helpers
      exists  app/models
      exists  app/views
      create  app/views/users
      create  app/views/user_groups
      create  app/views/permissions
      create  app/views/sessions
      exists  app/controllers
      create  app/controllers/permissions_controller.rb
      create  app/controllers/users_controller.rb
      create  app/controllers/user_groups_controller.rb
      create  app/controllers/sessions_controller.rb
      create  app/models/permission.rb
      create  app/models/user.rb
      create  app/models/user_group.rb
      create  app/models/profile.rb
       route  map.resources :permissions
       route  map.resources :user_groups
       route  map.resources :users
       route  map.resources :sessions
      create  app/helpers/permissions_helper.rb
      create  app/helpers/users_helper.rb
      create  app/helpers/user_groups_helper.rb
      create  app/views/users/_data.html.erb
      create  app/views/users/_form.html.erb
      create  app/views/users/index.html.erb
      create  app/views/users/show.html.erb
      create  app/views/users/edit.html.erb
      create  app/views/users/new.html.erb
      create  app/views/users/_password.html.erb
      create  app/views/user_groups/_data.html.erb
      create  app/views/user_groups/_form.html.erb
      create  app/views/user_groups/index.html.erb
      create  app/views/user_groups/show.html.erb
      create  app/views/user_groups/edit.html.erb
      create  app/views/user_groups/new.html.erb
      create  app/views/permissions/_data.html.erb
      create  app/views/permissions/index.html.erb
      create  app/views/permissions/show.html.erb
      create  app/views/sessions/new.html.erb
      create  db/migrate
      create  db/migrate/001_create_profiles.rb
      exists  db/migrate
      create  db/migrate/002_create_users.rb
      exists  db/migrate
      create  db/migrate/003_create_user_groups.rb
      exists  db/migrate
      create  db/migrate/004_create_permissions.rb
      exists  db/migrate
      create  db/migrate/005_create_admin_user_and_user_group.rb
</pre>

	<p>Run your migrations:</p>


<pre>
$ rake db:migrate --trace
</pre>

	<p>Remove index.html</p>


<pre>
$ rm public/index.html
</pre>

	<p>Start the app and then open up your browser to http://localhost:3000</p>


<pre>
$ ./script/server
</pre>

	<p>You&#8217;ll see that the lockdown_all generator has added a default route to the login page.</p>


	<p>Login using the basic admin account with credentials: admin/password</p>


	<p>After you login (you&#8217;ll still be on the login page), go one of the following pages:</p>


	<p>http://localhost:3000/users</p>


	<p>http://localhost:3000/user_groups</p>


	<p>There is a permissiosn page also available, but you don&#8217;t have any with the basic install.  And since permissions cannot be created via the admin screens, this doesn&#8217;t have much value for you now.</p>


	<p>http://localhost:3000/permissions</p>


	<h2>Permissions</h2>


	<p>Alright, so there&#8217;s not a lot to see on these basic screens but that&#8217;s only because there&#8217;s isn&#8217;t a lot to the system at the moment.</p>


	<p>Now it&#8217;s time to look at lib/lockdown/init.rb.  Open it in your favorite editor.</p>


	<p>There&#8217;s some documentation with examples that will hopefully server for more than a reminder.  Please read that documentation before continuing here.</p>


	<p>...</p>


	<p>I guess that wasn&#8217;t sufficient? If you don&#8217;t understand how to use init.rb, please post a question on the forum and I&#8217;ll address the issue there and then update init.rb.</p>


	<p>For simplicity sake, I would like the documentation for init.rb contained within that file.</p>


	<h2>Contact</h2>


	<p>Comments and suggestions are welcome via the <a href="http://groups.google.com/group/stonean_lockdown?hl=en">forum</a></p>
    <p class="coda">
      2nd May 2008<br/>
      Theme extended from <a href="http://rb2js.rubyforge.org/">Paul Battley</a>
    </p>
</div>
<script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
  var pageTracker = _gat._getTracker("UA-4189092-1");
  pageTracker._initData();
  pageTracker._trackPageview();
</script>
</body>
</html>
